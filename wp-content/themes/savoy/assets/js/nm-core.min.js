/* NM: Core script */
(function(b) {
    function n() {
        this.init()
    }
    b.nmThemeExtensions || (b.nmThemeExtensions = {});
    n.prototype = {
        init: function() {
            var a = this;
            a.classHeaderFixed = "header-on-scroll";
            a.classMobileMenuOpen = "mobile-menu-open";
            a.classSearchOpen = "header-search-open";
            a.classWidgetPanelOpen = "widget-panel-open";
            a.$window = b(window);
            a.$document = b(document);
            a.$html = b("html");
            a.$body = b("body");
            a.$pageIncludes = b("#nm-page-includes");
            a.$pageOverlay = b("#nm-page-overlay");
            a.$topBar = b("#nm-top-bar");
            a.$header = b("#nm-header");
            a.$headerPlaceholder =
                b("#nm-header-placeholder");
            a.headerScrollTolerance = 0;
            a.$mobileMenuBtn = b("#nm-mobile-menu-button");
            a.$mobileMenu = b("#nm-mobile-menu");
            a.$mobileMenuScroller = a.$mobileMenu.children(".nm-mobile-menu-scroll");
            a.$mobileMenuLi = a.$mobileMenu.find("ul li.menu-item");
            a.$widgetPanel = b("#nm-widget-panel");
            a.widgetPanelAnimSpeed = 250;
            a.panelsAnimSpeed = 200;
            a.$shopWrap = b("#nm-shop");
            a.isShop = a.$shopWrap.length ? !0 : !1;
            a.shopCustomSelect = "0" != nm_wp_vars.shopCustomSelect ? !0 : !1;
            a.searchEnabled = "0" !== nm_wp_vars.shopSearch ?
                !0 : !1;
            a.isChromium = !!window.chrome;
            a.isFirefox = -1 < navigator.userAgent.toLowerCase().indexOf("firefox");
            if ("0" != nm_wp_vars.pageLoadTransition) {
                a.isIos = navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPhone/i);
                if (!a.isIos) a.$window.on("beforeunload", function(c) {
                    b("#nm-page-load-overlay").addClass("nm-loader");
                    a.$html.removeClass("nm-page-loaded")
                });
                "onpagehide" in window ? window.addEventListener("pageshow", function() {
                    setTimeout(function() {
                        a.$html.addClass("nm-page-loaded")
                    }, 150)
                }, !1) : setTimeout(function() {
                        a.$html.addClass("nm-page-loaded")
                    },
                    150)
            }
            a.$body.removeClass("nm-preload");
            a.isTouch = a.$html.hasClass("touch") ? !0 : !1;
            a.isTouch ? "0" != nm_wp_vars.touchHover && a.$html.addClass("has-hover") : a.$html.addClass("has-hover");
            a.headerIsFixed = a.$body.hasClass("header-fixed") ? !0 : !1;
            ("0" != nm_wp_vars.pushStateMobile || a.$html.hasClass("no-touch")) && a.$html.hasClass("history") ? (a.hasPushState = !0, window.history.replaceState({
                nmShop: !0
            }, "", window.location.href)) : a.hasPushState = !1;
            a.setScrollbarWidth();
            a.headerCheckPlaceholderHeight();
            a.headerIsFixed &&
                (a.headerSetScrollTolerance(), a.mobileMenuPrep());
            a.widgetPanelPrep();
            0 < window.navigator.userAgent.indexOf("MSIE ") && a.$html.addClass("nm-old-ie");
            "0" == nm_wp_vars.infloadSnapbackCache || a.isTouch || a.isFirefox || a.shopInfloadSnapbackCache();
            a.loadExtension();
            a.bind();
            a.initPageIncludes();
            a.$body.hasClass("nm-added-to-cart") && (a.$body.removeClass("nm-added-to-cart"), a.$window.on("load", function() {
                a.$widgetPanel.length && (a.widgetPanelShow(!0, !0), setTimeout(function() {
                    a.widgetPanelCartHideLoader()
                }, 1E3))
            }))
        },
        loadExtension: function() {
            b.nmThemeExtensions.shop && b.nmThemeExtensions.shop.call(this);
            this.searchEnabled && b.nmThemeExtensions.search && b.nmThemeExtensions.search.call(this);
            b.nmThemeExtensions.singleProduct && b.nmThemeExtensions.singleProduct.call(this);
            b.nmThemeExtensions.cart && b.nmThemeExtensions.cart.call(this);
            b.nmThemeExtensions.checkout && b.nmThemeExtensions.checkout.call(this);
            b.nmThemeExtensions.blog && b.nmThemeExtensions.blog.call(this)
        },
        setScrollbarWidth: function() {
            var a = document.createElement("div");
            a.style.cssText = "width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";
            document.body.appendChild(a);
            this.scrollbarWidth = a.offsetWidth - a.clientWidth;
            document.body.removeChild(a)
        },
        pageIsScrollable: function() {
            return document.body.scrollHeight > document.body.clientHeight
        },
        urlGetParameter: function(a) {
            var c = decodeURIComponent(window.location.search.substring(1)).split("&"),
                d;
            for (d = 0; d < c.length; d++) {
                var e = c[d].split("=");
                if (e[0] === a) return void 0 === e[1] ? !0 : e[1]
            }
        },
        updateUrlParameter: function(a,
            c, d) {
            var e = a.indexOf("#"),
                g = -1 === e ? "" : a.substr(e);
            a = -1 === e ? a : a.substr(0, e);
            e = new RegExp("([?&])" + c + "=.*?(&|$)", "i");
            var h = -1 !== a.indexOf("?") ? "&" : "?";
            a = a.match(e) ? a.replace(e, "$1" + c + "=" + d + "$2") : a + h + c + "=" + d;
            return a + g
        },
        setPushState: function(a) {
            this.hasPushState && window.history.pushState({
                nmShop: !0
            }, "", a)
        },
        headerCheckPlaceholderHeight: function() {
            if (0 == nm_wp_vars.headerPlaceholderSetHeight) return console.log("NM: Header placeholder height NOT set"), !1;
            if (!this.$body.hasClass(this.classHeaderFixed)) {
                var a =
                    Math.round(this.$header.innerHeight()),
                    c = Math.round(parseInt(this.$headerPlaceholder.css("height")));
                1 < Math.abs(a - c) && this.$headerPlaceholder.css("height", a + "px")
            }
        },
        headerSetScrollTolerance: function() {
            this.headerScrollTolerance = this.$topBar.length && this.$topBar.is(":visible") ? this.$topBar.outerHeight(!0) : 0
        },
        headerToggleFixedClass: function(a) {
            a.$document.scrollTop() > a.headerScrollTolerance ? a.$body.hasClass(a.classHeaderFixed) || a.$body.addClass(a.classHeaderFixed) : a.$body.hasClass(a.classHeaderFixed) &&
                a.$body.removeClass(a.classHeaderFixed)
        },
        bind: function() {
            var a = this,
                c = null;
            a.$window.resize(function() {
                c && clearTimeout(c);
                c = setTimeout(function() {
                    a.headerCheckPlaceholderHeight();
                    a.headerIsFixed && (a.headerSetScrollTolerance(), a.mobileMenuPrep())
                }, 250)
            });
            var d = function(f) {
                    f.matches && a.$body.hasClass(a.classMobileMenuOpen) && a.pageOverlayHide()
                },
                e = function(f) {
                    f.matches && a.$body.hasClass(a.classSearchOpen) && a.pageOverlayHide()
                },
                g = window.matchMedia("(min-width: 992px)"),
                h = window.matchMedia("(max-width: 991px)");
            try {
                g.addEventListener("change", d), h.addEventListener("change", e)
            } catch (f) {
                try {
                    g.addListener(d), h.addListener(e)
                } catch (k) {
                    console.error("NM: Media query matching - " + k)
                }
            }
            if (a.isTouch) a.$window.on("orientationchange", function() {
                a.$body.addClass("touch-orientation-change");
                setTimeout(function() {
                    a.$body.removeClass("touch-orientation-change")
                }, 500)
            });
            a.headerIsFixed && (a.$window.on("scroll.nmheader", function() {
                a.headerToggleFixedClass(a)
            }), a.$window.trigger("scroll"));
            d = b("#nm-top-menu").children(".menu-item");
            e = b("#nm-main-menu-ul").children(".menu-item");
            g = b("#nm-right-menu-ul").children(".menu-item");
            b().add(d).add(e).add(g).mouseenter(function() {
                var f = b(this),
                    k = f.children(".sub-menu");
                if (k.length) {
                    var m = a.$window.innerWidth(),
                        p = k.offset().left,
                        q = k.width();
                    m -= p + q;
                    0 > m && k.css("left", m - 33 + "px");
                    f.hasClass("bridge-height-set") || (m = f.closest("nav"), m.length && (f.addClass("bridge-height-set"), f = Math.ceil((m.height() - f.height()) / 2), k.children(".nm-sub-menu-bridge").css("height", f + 1 + "px")))
                }
            }).mouseleave(function() {
                var f =
                    b(this).children(".sub-menu");
                f.length && f.css("left", "")
            });
            if (!a.isShop) a.$header.on("click.nmHeaderShopRedirect", ".shop-redirect-link", function(f) {
                f.preventDefault();
                f = b(this).children("a").attr("href");
                window.location.href = f + "#shop"
            });
            a.$mobileMenuBtn.on("click", function(f) {
                f.preventDefault();
                a.$body.hasClass(a.classMobileMenuOpen) ? a.mobileMenuClose(!0) : a.mobileMenuOpen()
            });
            a.$mobileMenuLi.on("click.nmMenuToggle", function(f) {
                f.stopPropagation();
                a.$document.trigger("nm_mobile_menu_toggle", [f, this]);
                var k = b(this),
                    m = k.children("ul");
                !m.length || k.hasClass("nm-notoggle") && !b(f.target).hasClass("nm-menu-toggle") || (f.preventDefault(), k.toggleClass("active"), m.toggleClass("open"))
            });
            a.$widgetPanel.length && a.widgetPanelBind();
            if (a.$pageIncludes.hasClass("login-popup")) {
                var l = !1;
                b("#nm-menu-account-btn").on("click.nmLoginShowPopup", function(f) {
                    f.preventDefault();
                    b("#nm-login-wrap").children(".login").css("display", "");
                    b.magnificPopup.open({
                        mainClass: "nm-login-popup nm-mfp-fade-in",
                        alignTop: !0,
                        closeMarkup: '<a class="mfp-close nm-font nm-font-close2"></a>',
                        removalDelay: 180,
                        items: {
                            src: "#nm-login-popup-wrap",
                            type: "inline"
                        },
                        callbacks: {
                            open: function() {
                                l || (l = !0, b.ajax({
                                    type: "POST",
                                    url: wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%", "nm_ajax_login_get_nonces"),
                                    dataType: "json",
                                    cache: !1,
                                    headers: {
                                        "cache-control": "no-cache"
                                    },
                                    success: function(k) {
                                        b("#woocommerce-login-nonce").attr("value", k.login);
                                        b("#woocommerce-register-nonce").attr("value", k.register)
                                    }
                                }))
                            },
                            close: function() {
                                b("#nm-login-wrap").addClass("inline fade-in slide-up");
                                b("#nm-register-wrap").removeClass("inline fade-in slide-up")
                            }
                        }
                    })
                })
            }
            a.$pageOverlay.on("click",
                function() {
                    a.pageOverlayHide()
                })
        },
        pageOverlayShow: function() {
            this.$body.hasClass(this.classMobileMenuOpen) ? this.$pageOverlay.addClass("nm-mobile-menu-overlay") : this.$body.hasClass(this.classSearchOpen) ? this.$pageOverlay.addClass("nm-header-search-overlay") : this.$body.hasClass(this.classWidgetPanelOpen) && this.$pageOverlay.addClass("nm-widget-panel-overlay");
            this.$pageOverlay.addClass("show")
        },
        pageOverlayHide: function() {
            var a = this;
            a.$body.hasClass(a.classMobileMenuOpen) ? a.mobileMenuClose(!1) : a.$body.hasClass(a.classSearchOpen) ?
                a.headerSearchTogglePanel() : a.$body.hasClass(a.classWidgetPanelOpen) && a.widgetPanelHide();
            a.$body.trigger("nm_page_overlay_hide");
            a.$pageOverlay.addClass("fade-out");
            setTimeout(function() {
                a.$pageOverlay.removeClass()
            }, a.panelsAnimSpeed)
        },
        mobileMenuPrep: function() {
            var a = this.$window.height() - this.$header.outerHeight(!0);
            this.$mobileMenuScroller.css({
                "max-height": a + "px",
                "margin-right": "-" + this.scrollbarWidth + "px"
            })
        },
        mobileMenuOpen: function(a) {
            a = this.$header.outerHeight(!0);
            this.$mobileMenuScroller.css("margin-top",
                a + "px");
            this.$body.addClass(this.classMobileMenuOpen);
            this.pageOverlayShow()
        },
        mobileMenuClose: function(a) {
            this.$body.removeClass(this.classMobileMenuOpen);
            a && this.pageOverlayHide();
            setTimeout(function() {
                b("#nm-mobile-menu-main-ul").children(".active").removeClass("active").children("ul").removeClass("open");
                b("#nm-mobile-menu-secondary-ul").children(".active").removeClass("active").children("ul").removeClass("open")
            }, 250)
        },
        widgetPanelPrep: function() {
            var a = this;
            a.widgetPanelCartHideScrollbar();
            a.cartPanelAjax =
                null;
            "0" != nm_wp_vars.cartPanelQtyArrows && (a.quantityInputsBindButtons(a.$widgetPanel), a.$widgetPanel.on("blur", "input.qty", function() {
                var c = b(this),
                    d = parseFloat(c.val()),
                    e = parseFloat(c.attr("max"));
                if ("" === d || "NaN" === d) d = 0;
                "NaN" === e && (e = "");
                d > e && (c.val(e), d = e);
                0 < d && a.widgetPanelCartUpdate(c)
            }), a.$document.on("nm_qty_change", function(c, d) {
                a.$body.hasClass(a.classWidgetPanelOpen) && a.widgetPanelCartUpdate(b(d))
            }))
        },
        widgetPanelBind: function() {
            var a = this;
            a.isTouch && (a.$pageOverlay.on("touchmove", function(c) {
                    c.preventDefault()
                }),
                a.$widgetPanel.on("touchmove", function(c) {
                    c.stopPropagation()
                }));
            b("#nm-menu-cart-btn, #nm-mobile-menu-cart-btn").on("click.nmAtc", function(c) {
                c.preventDefault();
                if (a.$body.hasClass(a.classMobileMenuOpen)) {
                    var d = b(this);
                    a.pageOverlayHide();
                    setTimeout(function() {
                        d.trigger("click")
                    }, a.panelsAnimSpeed)
                } else a.widgetPanelShow()
            });
            b("#nm-widget-panel-close").on("click.nmWidgetPanelClose", function(c) {
                c.preventDefault();
                a.pageOverlayHide()
            });
            a.$widgetPanel.on("click.nmCartPanelClose", "#nm-cart-panel-continue",
                function(c) {
                    c.preventDefault();
                    a.pageOverlayHide()
                })
        },
        widgetPanelShow: function(a, c) {
            var d = this;
            c && "0" == nm_wp_vars.cartPanelShowOnAtc ? d.shopShowNotices() : (a && d.widgetPanelCartShowLoader(), d.$body.addClass("widget-panel-opening " + d.classWidgetPanelOpen), d.pageOverlayShow(), setTimeout(function() {
                d.$body.removeClass("widget-panel-opening")
            }, d.widgetPanelAnimSpeed))
        },
        widgetPanelHide: function() {
            var a = this;
            a.$body.addClass("widget-panel-closing");
            a.$body.removeClass(a.classWidgetPanelOpen);
            setTimeout(function() {
                    a.$body.removeClass("widget-panel-closing")
                },
                a.widgetPanelAnimSpeed)
        },
        widgetPanelCartShowLoader: function() {
            b("#nm-cart-panel-loader").addClass("show")
        },
        widgetPanelCartHideLoader: function() {
            b("#nm-cart-panel-loader").addClass("fade-out");
            setTimeout(function() {
                b("#nm-cart-panel-loader").removeClass("fade-out show")
            }, 200)
        },
        widgetPanelCartHideScrollbar: function() {
            this.$widgetPanel.children(".nm-widget-panel-inner").css("marginRight", "-" + this.scrollbarWidth + "px")
        },
        widgetPanelCartUpdate: function(a) {
            var c = this;
            c.cartPanelAjax && c.cartPanelAjax.abort();
            a.closest("li").addClass("loading");
            var d = b("#nm-cart-panel-form"),
                e = d.find("#_wpnonce"),
                g = {};
            e.length ? (g.nm_cart_panel_update = "1", g.update_cart = "1", g[a.attr("name")] = a.val(), g._wpnonce = e.val(), c.cartPanelAjax = b.ajax({
                type: "POST",
                url: d.attr("action"),
                data: g,
                dataType: "html",
                error: function(h, l, f) {
                    console.log("NM: AJAX error - widgetPanelCartUpdate() - " + f);
                    b("#nm-cart-panel .cart_list").children(".loading").removeClass("loading")
                },
                success: function(h) {
                    b(document.body).trigger("wc_fragment_refresh").trigger("updated_cart_totals")
                },
                complete: function() {
                    c.cartPanelAjax = null
                }
            })) : console.log("NM - widgetPanelCartUpdate: Nonce field not found.")
        },
        shopReplaceFragments: function(a) {
            var c;
            b.each(a, function(d, e) {
                c = b(e);
                c.length && b(d).replaceWith(c)
            })
        },
        shopInfloadSnapbackCache: function() {
            this.$window.on("beforeunload", function() {
                var d = sessionStorage.getItem("pageCacheViews");
                if (d) {
                    var e = sessionStorage.getItem("pageCache");
                    e && "{}" !== e && (d = parseInt(d) + 1, sessionStorage.setItem("pageCacheViews", d))
                } else sessionStorage.setItem("pageCacheViews",
                    1)
            });
            if (!b("#nm-shop-browse-wrap").length) return !1;
            var a = SnapbackCache({
                    bodySelector: "#nm-shop-browse-wrap"
                }),
                c = nm_wp_vars.infloadSnapbackCacheLinks;
            this.$body.on("click", "#nm-shop-browse-wrap a", function() {
                var d = b(this);
                b("#nm-shop-browse-wrap").hasClass("products-loaded") && d.is(c) && a.cachePage()
            })
        },
        quantityInputsBindButtons: function(a) {
            var c = this,
                d, e = nm_wp_vars.cartPanelQtyThrottleTimeout;
            a.off("click.nmQty").on("click.nmQty", ".nm-qty-plus, .nm-qty-minus", function() {

                d && clearTimeout(d);
                var g = b(this),
                    h = g.closest(".quantity").find(".qty"),
                    l = parseFloat(h.val()),
                    f = parseFloat(h.attr("max")),
                    k = parseFloat(h.attr("min")),
                    m = h.attr("step");
                l && "" !== l && "NaN" !== l || (l = 0);
                if ("" === f || "NaN" === f) f = "";
                if ("" === k || "NaN" === k) k = 0;
                if ("any" === m || "" === m || void 0 === m || "NaN" === parseFloat(m)) m = 1;
                g.hasClass("nm-qty-plus") ? f && (f == l || l > f) ? h.val(f) : (h.val(l + parseFloat(m)), d = setTimeout(function() {
                    c.quantityInputsTriggerEvents(h)
                }, e)) : k && (k == l || l < k) ? h.val(k) : 0 < l && (h.val(l - parseFloat(m)), d = setTimeout(function() {
                        c.quantityInputsTriggerEvents(h)
                    },
                    e))
            })

        },
        quantityInputsTriggerEvents: function(a) {
            a.trigger("change");
            jQuery('.udpatecart').trigger("click") 
            this.$document.trigger("nm_qty_change", a)
        },
        initPageIncludes: function() {
            var a = this;
            if (a.$pageIncludes.hasClass("row-full-height")) {
                var c = function() {
                    var g = b(".nm-row-full-height:first");
                    if (g.length) {
                        var h = a.$window.height(),
                            l = g.offset().top,
                            f;
                        h > l && (f = 100 - l / (h / 100), g.css("min-height", f + "vh"))
                    }
                };
                c();
                var d = null;
                a.$window.on("resize.nmRow", function() {
                    d && clearTimeout(d);
                    d = setTimeout(function() {
                        c()
                    }, 250)
                })
            }
            a.isTouch && 0 == nm_wp_vars.rowVideoOnTouch ||
                !a.$pageIncludes.hasClass("video-background") || b(".nm-row-video").each(function() {
                    var g = b(this),
                        h = g.data("video-url");
                    h && (h = vcExtractYoutubeId(h)) && insertYoutubeVideoAsBackground(g, h)
                });
            a.$window.on("load", function() {
                a.$pageIncludes.hasClass("banner") && a.elementBanner(b(".nm-banner"));
                a.$pageIncludes.hasClass("banner-slider") && b(".nm-banner-slider").each(function() {
                    a.elementBannerSlider(b(this))
                });
                a.$pageIncludes.hasClass("product-slider") && b(".nm-product-slider").each(function() {
                    a.elementProductSlider(b(this))
                });
                a.$pageIncludes.hasClass("product-reviews-slider") && b(".nm-product-reviews-slider").each(function() {
                    a.elementProductReviewsSlider(b(this))
                });
                a.$pageIncludes.hasClass("post-slider") && b(".nm-post-slider").each(function() {
                    a.elementPostSlider(b(this))
                });
                "0" != nm_wp_vars.wpGalleryPopup && a.$pageIncludes.hasClass("wp-gallery") && b(".gallery").each(function() {
                    b(this).magnificPopup({
                        mainClass: "nm-wp-gallery-popup nm-mfp-fade-in",
                        closeMarkup: '<a class="mfp-close nm-font nm-font-close2"></a>',
                        removalDelay: 180,
                        delegate: ".gallery-icon > a",
                        type: "image",
                        gallery: {
                            enabled: !0,
                            arrowMarkup: '<a title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir% nm-font nm-font-angle-right"></a>'
                        },
                        image: {
                            titleSrc: function(g) {
                                return g.el.parent().next(".wp-caption-text").text() || ""
                            }
                        },
                        closeBtnInside: !1
                    })
                })
            });
            if (a.$pageIncludes.hasClass("product_categories")) {
                a = this;
                var e = b(".nm-product-categories");
                a.elementProductCategoriesBindLinks(e);
                if (a.$pageIncludes.hasClass("product_categories_masonry")) a.$window.on("load", function() {
                    for (var g =
                            0; g < e.length; g++) a.elementProductCategories(b(e[g]))
                })
            }
            a.$pageIncludes.hasClass("lightbox") && b(".nm-lightbox").each(function() {
                a.elementLightbox(b(this))
            });
            a.$pageIncludes.hasClass("elementor-tabs") && b(".nm-elementor-tabs").each(function() {
                a.elementElementorTabs(b(this))
            })
        },
        elementBanner: function(a) {
            var c = this;
            if (c.isShop && c.filtersEnableAjax) a.find(".nm-banner-shop-link").on("click.nmBannerAjax", function(d) {
                d.preventDefault();
                b(this).attr("href") && c.shopExternalGetPage(b(this).attr("href"))
            })
        },
        elementBannerAddAnimClass: function(a,
            c) {
            if (a.slideIndex != c) {
                a.slideIndex = c;
                a.$bannerContent && a.$bannerContent.removeClass(a.bannerAnimation);
                var d = a.isSlick ? a.find(".slick-track .slick-active") : a.children(".flickity-viewport").children(".flickity-slider").children(".is-selected");
                a.$bannerContent = d.find(".nm-banner-text-inner");
                a.$bannerContent.length && (a.bannerAnimation = a.$bannerContent.data("animate"), a.$bannerContent.addClass(a.bannerAnimation))
            }
        },
        elementBannerSlider: function(a) {
            var c = this;
            a.isSlick = a.hasClass("plugin-slick") ? !0 :
                !1;
            a.children().wrap('<div class="nm-banner-slide"></div>');
            if (a.isSlick) {
                var d = {
                    arrows: !1,
                    prevArrow: '<a class="slick-prev"><i class="nm-font nm-font-angle-thin-left"></i></a>',
                    nextArrow: '<a class="slick-next"><i class="nm-font nm-font-angle-thin-right"></i></a>',
                    dots: !1,
                    edgeFriction: 0,
                    infinite: !1,
                    pauseOnHover: !1,
                    speed: 350,
                    touchThreshold: 30
                };
                d = b.extend(d, a.data());
                a.on("init", function() {
                    c.$document.trigger("banner-slider-loaded");
                    c.elementBannerAddAnimClass(a, 0)
                });
                a.on("afterChange", function(l, f,
                    k) {
                    c.elementBannerAddAnimClass(a, k)
                });
                a.on("setPosition", function(l, f) {
                    var k = f.$slider,
                        m = b(f.$slides[f.currentSlide]);
                    c.elementBannerSliderToggleLayoutClass(k, m)
                });
                a.slick(d)
            } else {
                d = b.extend({}, a.data("options"));
                a.one("select.flickity", function() {
                    c.$document.trigger("banner-slider-loaded");
                    c.elementBannerAddAnimClass(a, 0)
                });
                a.on("settle.flickity", function() {
                    c.elementBannerAddAnimClass(a, e.selectedIndex)
                });
                a.flickity(d);
                var e = a.data("flickity");
                a.on("select.flickity", function() {
                    var l = b(this),
                        f = e ?
                        b(e.selectedElement) : l.find(".is-selected");
                    c.elementBannerSliderToggleLayoutClass(l, f)
                });
                a.trigger("select.flickity");
                if (a.hasClass("has-text-parallax")) {
                    var g = a.find(".nm-banner-text"),
                        h;
                    a.on("scroll.flickity", function(l, f) {
                        e.slides.forEach(function(k, m) {
                            h = 1 * (k.target + e.x) / 3;
                            g[m].style.transform = "translate3d(" + h + "px,0,0)"
                        })
                    })
                }
            }
        },
        elementBannerSliderToggleLayoutClass: function(a, c) {
            var d = c.children(".nm-banner");
            d.hasClass("alt-mobile-layout") ? "absolute" != d.children(".nm-banner-content").css("position") ?
                a.addClass("alt-mobile-layout-showing") : a.removeClass("alt-mobile-layout-showing") : a.removeClass("alt-mobile-layout-showing")
        },
        elementProductSlider: function(a) {
            var c = a.find(".nm-products:first"),
                d = {
                    adaptiveHeight: !0,
                    arrows: !1,
                    prevArrow: '<a class="slick-prev"><i class="nm-font nm-font-angle-thin-left"></i></a>',
                    nextArrow: '<a class="slick-next"><i class="nm-font nm-font-angle-thin-right"></i></a>',
                    dots: !0,
                    edgeFriction: 0,
                    infinite: !1,
                    speed: 350,
                    touchThreshold: 30,
                    slidesToShow: 4,
                    slidesToScroll: 4,
                    responsive: [{
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 3,
                            slidesToScroll: 3
                        }
                    }, {
                        breakpoint: 768,
                        settings: {
                            slidesToShow: 2,
                            slidesToScroll: 2
                        }
                    }, {
                        breakpoint: 518,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    }]
                };
            d = b.extend(d, a.data());
            a = a.data("slides-to-show-mobile");
            var e = 2 == parseInt(d.slidesToShow) ? 2 : 3,
                g = 2 < parseInt(a) ? a : 2;
            d.responsive[0].settings.slidesToShow = e;
            d.responsive[0].settings.slidesToScroll = e;
            d.responsive[1].settings.slidesToShow = g;
            d.responsive[1].settings.slidesToScroll = g;
            d.responsive[2].settings.slidesToShow = a;
            d.responsive[2].settings.slidesToScroll =
                a;
            c.slick(d)
        },
        elementProductReviewsSlider: function(a) {
            var c = a.find(".nm-product-reviews-ul"),
                d = {
                    adaptiveHeight: !0,
                    arrows: !1,
                    prevArrow: '<a class="slick-prev"><i class="nm-font nm-font-angle-thin-left"></i></a>',
                    nextArrow: '<a class="slick-next"><i class="nm-font nm-font-angle-thin-right"></i></a>',
                    dots: !0,
                    edgeFriction: 0,
                    infinite: !1,
                    speed: 350,
                    touchThreshold: 30,
                    slidesToShow: 4,
                    slidesToScroll: 4,
                    responsive: [{
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 3,
                            slidesToScroll: 3
                        }
                    }, {
                        breakpoint: 768,
                        settings: {
                            slidesToShow: 2,
                            slidesToScroll: 2
                        }
                    }, {
                        breakpoint: 518,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    }]
                };
            d = b.extend(d, a.data());
            2 == d.slidesToShow && (d.responsive[0].settings.slidesToShow = 2, d.responsive[0].settings.slidesToScroll = 2);
            var e = function(h) {
                if (b(h).is(":visible")) {
                    var l = [],
                        f = 0;
                    setTimeout(function() {
                        b(".slick-track .slick-active", h).each(function(k) {
                            l[k] = b(this).outerHeight()
                        });
                        l.forEach(function(k) {
                            k > f && (f = k)
                        });
                        b(".slick-list", h).css("height", Math.ceil(f) + "px")
                    }, 10)
                }
            };
            c.on("init", function(h) {
                e(this)
            });
            c.on("beforeChange",
                function(h, l, f) {
                    e(this)
                });
            var g = null;
            this.$window.on("resize.reviewsSlider", function() {
                g && clearTimeout(g);
                g = setTimeout(function() {
                    e(c[0])
                }, 250)
            });
            c.slick(d)
        },
        elementPostSlider: function(a) {
            var c = {
                adaptiveHeight: !0,
                arrows: !1,
                prevArrow: '<a class="slick-prev"><i class="nm-font nm-font-angle-thin-left"></i></a>',
                nextArrow: '<a class="slick-next"><i class="nm-font nm-font-angle-thin-right"></i></a>',
                dots: !0,
                edgeFriction: 0,
                infinite: !1,
                pauseOnHover: !1,
                speed: 350,
                touchThreshold: 30,
                slidesToShow: 4,
                slidesToScroll: 4,
                responsive: [{
                    breakpoint: 1024,
                    settings: {
                        slidesToShow: 3,
                        slidesToScroll: 3
                    }
                }, {
                    breakpoint: 768,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 2
                    }
                }, {
                    breakpoint: 518,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                }]
            };
            c = b.extend(c, a.data());
            2 == c.slidesToShow && (c.responsive[0].settings.slidesToShow = 2, c.responsive[0].settings.slidesToScroll = 2);
            a.slick(c)
        },
        elementProductCategories: function(a) {
            if (a.hasClass("masonry-enabled")) {
                var c = a.children(".woocommerce").children("ul");
                c.masonry({
                    itemSelector: ".product-category",
                    gutter: 0,
                    initLayout: !1
                });
                c.masonry("on", "layoutComplete", function() {
                    c.closest(".nm-product-categories").removeClass("nm-loader");
                    c.addClass("show")
                });
                c.masonry()
            }
        },
        elementProductCategoriesBindLinks: function(a) {
            var c = this;
            if (c.isShop && c.filtersEnableAjax) a.find(".product-category a").on("click", function(d) {
                d.preventDefault();
                c.shopExternalGetPage(b(this).attr("href"))
            })
        },
        elementLightbox: function(a) {
            a.on("click", function(c) {
                c.preventDefault();
                c.stopPropagation();
                c = b(this);
                var d = c.data("mfp-type"),
                    e = {
                        mainClass: "nm-wp-gallery-popup nm-mfp-zoom-in",
                        closeMarkup: '<a class="mfp-close nm-font nm-font-close2"></a>',
                        removalDelay: 180,
                        type: d,
                        closeBtnInside: !1,
                        image: {
                            titleSrc: "data-mfp-title"
                        }
                    };
                e.closeOnContentClick = "inline" == d ? !1 : !0;
                c.magnificPopup(e).magnificPopup("open")
            })
        },
        elementElementorTabs: function(a) {
            var c, d;
            a.children(".nm-elementor-tabs-wrapper").children(".nm-elementor-tab").on("click", function(e) {
                e.preventDefault();
                c = b(this);
                c.hasClass("nm-elementor-active") || (d = c.closest(".nm-elementor-tabs-wrapper").children(".nm-elementor-active"), d.removeClass("nm-elementor-active"),
                    c.addClass("nm-elementor-active"), b("#" + d.attr("aria-controls")).removeClass("nm-elementor-active"), b("#" + c.attr("aria-controls")).addClass("nm-elementor-active"))
            })
        }
    };
    b.nmTheme = n.prototype;
    b.nmReady = function(a) {
        "complete" === document.readyState || "interactive" === document.readyState ? setTimeout(a, 1) : document.addEventListener("DOMContentLoaded", a)
    };
    b.nmReady(function() {
        b.nmThemeInstance = new n
    })
})(jQuery);